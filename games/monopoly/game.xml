<?xml version="1.0" encoding="UTF-8" ?>
<Game>
    <Decks>
        <Deck name="chance">
            <Card text="Advance to &quot;Go&quot;. (Collect $200)"/>
            <Card text="Advance to Illinois Ave. If you pass Go, collect $200"/>
            <Card text="Advance to St. Charles Place. If you pass Go, collect $200"/>
            <Card text="Advance token to nearest Utility. If unowned, you may buy it from the Bank. If owned,
                throw dice and pay owner a total 10 times the amount thrown."/>
            <!-- Continues... -->
        </Deck>
        <Deck name="community_chest">

        </Deck>
        <Deck name="properties">
            <Card text="Mediterranean Avenue" id="medi_ave"/>
            <Card text="Baltic Avenue" id="baltic_ave"/>
            <Card text="Reading Railroad" id="reading_rr"/>
            <Card text="Oriental Avenue" id="oriental_ave"/>
            <Card text="Vermont Avenue" id="vermont_ave"/>
            <Card text="Connecticut Avenue" id="conn_ave"/>
            <Card text="St. Charles Place" id="stcharles_pl"/>
            <Card text="Electric Company" id="electric"/>
            <Card text="States Avenue" id="states_ave"/>
            <Card text="Virginia Avenue" id="virginia_ave"/>
            <Card text="Pennsylvania Railroad" id="penn_rr"/>
            <Card text="St. James Place" id="stjames_pl"/>
            <!-- Continues... -->
        </Deck>
    </Decks>

    <Players> <!--min="2" max="8">-->
        <Layout players="2" type="duel"/>
        <Layout min_players="3" max_players="8" type="clockwise"/>

        <IntVar id="money" initial="1500"/>
        <DeckVar id="properties"/>
        <DeckVar id="leave_jail_cards"/>
        <BooleanVar id="in_jail" initial="false"/>
        <IntVar id="rounds_in_jail" initial="0"/>
    </Players>

    <Options>
        <Checkbox id="free_parking_jackpot" display="Free Parking Jackpot Enabled"/>
    </Options>

    <Conditions>
        <PlayerVarCondition id="player_in_jail" playerVar="current_player" varName="in_jail" value="true"/>
        <PlayerVarCondition id="overdraft" playerVar="current_player" varName="money" lessThan="value"/>
        <PlayerVarCondition id="has_leave_jail_card" playerVar="current_player" varName="leave_jail_cards" minSize="1"/>
        <CompareVarCondition id="doubles" var1="dice_1" var2="dice_2" matches="true"/>
        <BooleanVarCondition id="select_true" var="bool_select"/>
    </Conditions>

    <Globals>
        <IntVar id="free_parking_money"/>
        <IntVar id="dice_1"/>
        <IntVar id="dice_2"/>
        <BooleanVar id="bool_select"/>
        <IntVar id="value"/>

        <Sequence id="remove_money">
            <!--Amount to remove in value variable-->
            <Sequence condition="overdraft">
                <!-- Continued... -->
            </Sequence>
            <SubtractPlayerVar target="current_player" targetVar="money" var="value"/>
        </Sequence>
    </Globals>

    <Round order="clockwise" starting="dice_roll" goal="high" dice="2d6">
        <Sequence trigger="player_turn">
            <Sequence condition="player_in_jail">
                <BooleanPrompt text="Use get out of jail free card?" condition="has_leave_jail_card" var="bool_select"/>
                <Sequence condition="select_true">
                    <RemoveElement target="current_player" targetVar="leave_jail_cards" index="0"/>
                    <GoToSequence id="main_turn"/>
                </Sequence>
                <BooleanPrompt text="Pay $50 to get out?" var="bool_select"/>
                <Sequence condition="select_true">
                    <SetGlobalVar var="value" value="50"/>
                    <RunSequence id="remove_money"/>
                    <GoToSequence id="main_turn"/>
                </Sequence>
                <RollDice dice="2d6" vars="dice_1;dice_2"/>
                <Sequence condition="doubles">

                </Sequence>
            </Sequence>
            <Sequence id="main_turn" condition="!player_in_jail">

            </Sequence>
        </Sequence>
    </Round>
</Game>